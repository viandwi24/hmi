(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{320:function(t,e,r){"use strict";var n=r(3),o=r(69).findIndex,c=r(141),l="findIndex",d=!0;l in[]&&Array(1).findIndex((function(){d=!1})),n({target:"Array",proto:!0,forced:d},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},322:function(t,e,r){var content=r(333);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(52).default)("19ef9d5d",content,!0,{sourceMap:!1})},325:function(t,e,r){"use strict";var n=r(3),o=r(11),c=r(39),l=r(27),d=r(10),f=r(326),w=r(143),v=r(327),m=r(328),h=r(82),x=r(329),y=[],k=y.sort,_=d((function(){y.sort(void 0)})),O=d((function(){y.sort(null)})),I=w("sort"),D=!d((function(){if(h)return h<70;if(!(v&&v>3)){if(m)return!0;if(x)return x<603;var code,t,e,r,n="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(r=0;r<47;r++)y.push({k:t+r,v:e})}for(y.sort((function(a,b){return b.v-a.v})),r=0;r<y.length;r++)t=y[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));n({target:"Array",proto:!0,forced:_||!O||!I||!D},{sort:function(t){void 0!==t&&o(t);var e=c(this);if(D)return void 0===t?k.call(e):k.call(e,t);var r,n,d=[],w=l(e.length);for(n=0;n<w;n++)n in e&&d.push(e[n]);for(r=(d=f(d,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:String(e)>String(r)?1:-1}}(t))).length,n=0;n<r;)e[n]=d[n++];for(;n<w;)delete e[n++];return e}})},326:function(t,e){var r=Math.floor,n=function(t,e){var l=t.length,d=r(l/2);return l<8?o(t,e):c(n(t.slice(0,d),e),n(t.slice(d),e),e)},o=function(t,e){for(var element,r,n=t.length,i=1;i<n;){for(r=i,element=t[i];r&&e(t[r-1],element)>0;)t[r]=t[--r];r!==i++&&(t[r]=element)}return t},c=function(t,e,r){for(var n=t.length,o=e.length,c=0,l=0,d=[];c<n||l<o;)c<n&&l<o?d.push(r(t[c],e[l])<=0?t[c++]:e[l++]):d.push(c<n?t[c++]:e[l++]);return d};t.exports=n},327:function(t,e,r){var n=r(81).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},328:function(t,e,r){var n=r(81);t.exports=/MSIE|Trident/.test(n)},329:function(t,e,r){var n=r(81).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},330:function(t,e,r){"use strict";var n=r(3),o=r(64),c=r(331),l=r(206),d=r(10),f=1..toFixed,w=Math.floor,v=function(t,e,r){return 0===e?r:e%2==1?v(t,e-1,r*t):v(t*t,e/2,r)},m=function(data,t,e){for(var r=-1,n=e;++r<6;)n+=t*data[r],data[r]=n%1e7,n=w(n/1e7)},h=function(data,t){for(var e=6,r=0;--e>=0;)r+=data[e],data[e]=w(r/t),r=r%t*1e7},x=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=String(data[t]);s=""===s?e:s+l.call("0",7-e.length)+e}return s};n({target:"Number",proto:!0,forced:f&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!d((function(){f.call({})}))},{toFixed:function(t){var e,r,n,d,f=c(this),w=o(t),data=[0,0,0,0,0,0],y="",k="0";if(w<0||w>20)throw RangeError("Incorrect fraction digits");if(f!=f)return"NaN";if(f<=-1e21||f>=1e21)return String(f);if(f<0&&(y="-",f=-f),f>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(f*v(2,69,1))-69)<0?f*v(2,-e,1):f/v(2,e,1),r*=4503599627370496,(e=52-e)>0){for(m(data,0,r),n=w;n>=7;)m(data,1e7,0),n-=7;for(m(data,v(10,n,1),0),n=e-1;n>=23;)h(data,1<<23),n-=23;h(data,1<<n),m(data,1,1),h(data,2),k=x(data)}else m(data,0,r),m(data,1<<-e,0),k=x(data)+l.call("0",w);return k=w>0?y+((d=k.length)<=w?"0."+l.call("0",w-d)+k:k.slice(0,d-w)+"."+k.slice(d-w)):y+k}})},331:function(t,e,r){var n=r(63);t.exports=function(t){if("number"!=typeof t&&"Number"!=n(t))throw TypeError("Incorrect invocation");return+t}},332:function(t,e,r){"use strict";r(322)},333:function(t,e,r){var n=r(51)((function(i){return i[1]}));n.push([t.i,".tab-btn{\n  --tw-bg-opacity:1;\n  background-color:rgba(219, 234, 254, var(--tw-bg-opacity))\n}\n.tab-btn:hover{\n  --tw-bg-opacity:1;\n  background-color:rgba(30, 64, 175, var(--tw-bg-opacity))\n}\n.tab-btn{\n  --tw-border-opacity:1;\n  border-color:rgba(30, 64, 175, var(--tw-border-opacity));\n  border-radius:0.25rem;\n  border-width:2px;\n  font-weight:600;\n  margin-top:0.5rem;\n  margin-bottom:0.5rem;\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  padding-left:3rem;\n  padding-right:3rem;\n  --tw-text-opacity:1;\n  color:rgba(30, 64, 175, var(--tw-text-opacity))\n}\n.tab-btn:hover{\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity))\n}\n.tab-btn{\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration:150ms;\n  transition-duration:300ms\n}\n.tab-btn.active{\n  --tw-bg-opacity:1;\n  background-color:rgba(30, 64, 175, var(--tw-bg-opacity));\n  --tw-border-opacity:1;\n  border-color:rgba(30, 64, 175, var(--tw-border-opacity));\n  border-radius:0.25rem;\n  border-width:2px;\n  font-weight:700;\n  padding-top:0.5rem;\n  padding-bottom:0.5rem;\n  padding-left:3rem;\n  padding-right:3rem;\n  --tw-text-opacity:1;\n  color:rgba(255, 255, 255, var(--tw-text-opacity));\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property:background-color, border-color, color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration:150ms;\n  transition-duration:300ms\n}\n.tab-btn:focus{\n  outline:0\n}",""]),n.locals={},t.exports=n},341:function(t,e,r){"use strict";r.r(e);var n=r(132),o=r(6),c=(r(50),r(38),r(23),r(55),r(320),r(325),r(46),r(44),r(62),r(45),r(330),r(14)),l=r(142),d={layout:"page",setup:function(){var t=Object(c.i)(),e=t.app,r=t.$axios,d=t.$overlayLoading,f=t.$moment,w=r.defaults.baseURL,v=Object(c.f)(Object(l.a)(e.router)),m=Object(c.g)(1),h=Object(c.g)({columns:[],rows:[]}),x=Object(c.g)({columns:[],rows:[]}),y=Object(c.g)({columns:[],rows:[]}),k=Object(c.g)({columns:[],rows:[]}),_=Object(c.g)({columns:[],rows:[]}),O=Object(c.f)([]),I=Object(c.g)(f(Date.now()).format("YYYY-MM"));Object(c.l)(I,(function(t){return D()}));var D=Object(c.j)(Object(o.a)(regeneratorRuntime.mark((function t(){var e,data,o,c,l,w,v,m,O,D,j,S,C,E,M,Y,A;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,d.show(),t.next=4,r({method:"get",url:"/reports-label"});case 4:if(200!==(e=t.sent).status||!0!==e.data.status){t.next=15;break}return data=Object(n.a)(e.data.data),o=[{label:"Date",field:"reportDate"}],data.forEach((function(t){o.push({label:t.name,field:t.name})})),h.value.columns=[].concat(o),x.value.columns=[].concat(o),t.next=13,r({method:"get",url:"/reports",params:{month:f(I.value).format("MM"),year:f(I.value).format("YYYY")}});case 13:200===(c=t.sent).status&&!0===c.data.status&&(l=Object(n.a)(c.data.data),w=[],l.forEach((function(t){var e=function(a){return f(a).format("DD/MM/YYYY")},r=w.findIndex((function(r){return r.reportDate===e(t.reportDate)&&r.tipe===t.tipe}));if(-1===r){var n={reportDate:e(t.reportDate),tipe:t.tipe};n[t.label_name]=t.value,w.push(n)}else w[r][t.label_name]=t.value})),w.forEach((function(t){Object(n.a)(e.data.data).forEach((function(label){t[label.name]||(t[label.name]="-")}))})),v=w.sort((function(a,b){return a.reportDate<b.reportDate?-1:a.reportDate>b.reportDate?1:0})),h.value.rows=Object(n.a)(v.filter((function(t){return 1===t.tipe}))),x.value.rows=Object(n.a)(v.filter((function(t){return 0===t.tipe}))),m=function(a,b,t){var e=b,r={};return a.forEach((function(t){Object.keys(t).forEach((function(n){["tipe"].includes(n)||(e[n]||(e[n]=0),"-"!==t[n]&&(e[n]+=t[n]),r[n]||(r[n]=0),r[n]+=1)}))})),e=t(e,r)},O=o.slice(1),D=O.filter((function(t){return["BOD","COD","TSS","LEMAK & MINYAK","","AMONIAK","FE","CU"].includes(t.field)})),y.value.columns=[{label:"Tipe",field:"tipe"}].concat(Object(n.a)(D)),k.value.columns=[{label:"Tipe",field:"tipe"}].concat(Object(n.a)(D)),_.value.columns=Object(n.a)(D),j=function(t,e){return Object.keys(t).forEach((function(r){e[r]>0&&(t[r]=parseFloat(t[r]/e[r]).toFixed(3))})),t},S=m(v.filter((function(t){return 1===t.tipe})),{tipe:"Inlet"},j),C=m(v.filter((function(t){return 0===t.tipe})),{tipe:"Outlet"},j),y.value.rows=[S,C],E={},Object.keys(S).forEach((function(t){"tipe"!==t&&(E[t]=parseFloat((S[t]-C[t])/(100*S[t])).toFixed(3))})),_.value.rows=[E],M=function(t,e){return Object.keys(t).forEach((function(r){e[r]>0&&(t[r]=parseFloat(t[r]/e[r]*(t["DEBIT AIR LIMBAH"]/t["DEBIT AIR LIMBAH"])*.001).toFixed(3))})),t},Y=m(v.filter((function(t){return 1===t.tipe})),{tipe:"Inlet"},M),A=m(v.filter((function(t){return 0===t.tipe})),{tipe:"Outlet"},M),k.value.rows=[Y,A]);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),console.log(t.t0);case 20:d.hide();case 21:case"end":return t.stop()}}),t,null,[[0,17]])})))).fetch;return D(),{apibaseurl:w,footerMenu:v,tabSelected:m,goBack:function(){e.router.push({path:"/",query:{page:"overview"}})},dataInlet:h,dataOutlet:x,dataIpalKadar:y,dataIpalPencemaran:k,dataIpalReduksi:_,labels:O,filterDate:I}}},f=(r(332),r(21)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"screen tw-relative tw-px-40 tw-py-10"},[r("div",[r("button",{staticClass:"tab-btn",class:{active:1==t.tabSelected},on:{click:function(e){t.tabSelected=1}}},[t._v("\n      Data Inlet\n    ")]),t._v(" "),r("button",{staticClass:"tab-btn",class:{active:2==t.tabSelected},on:{click:function(e){t.tabSelected=2}}},[t._v("\n      Data Outlet\n    ")]),t._v(" "),r("button",{staticClass:"tab-btn",class:{active:3==t.tabSelected},on:{click:function(e){t.tabSelected=3}}},[t._v("\n      Data Kinerja Ipal\n    ")])]),t._v(" "),r("div",{staticClass:"tw-bg-gray-200 tw-shadow-lg tw-rounded tw-flex tw-flex-col tw-h-full tw-max-h-full"},[r("div",{staticClass:"tw-flex tw-justify-between"},[r("div",{staticClass:"tw-self-center tw-pl-4 tw-text-xl tw-text-blue-800 tw-font-semibold"},[1==t.tabSelected?r("span",[t._v("Data Outlet /Hari")]):t._e(),t._v(" "),2==t.tabSelected?r("span",[t._v("Data Inlet /Hari")]):t._e(),t._v(" "),3==t.tabSelected?r("span",[t._v("Data Kinerja Ipal /Hari")]):t._e()]),t._v(" "),r("div",{staticClass:"tw-flex tw-space-x-4 tw-text-right tw-px-4 tw-py-4"},[r("a",{staticClass:"tw-bg-blue-500 hover:tw-bg-blue-700 tw-text-xs tw-text-white tw-font-bold tw-py-2 tw-px-4 tw-rounded",attrs:{href:t.apibaseurl+"download?tipe="+(1==t.tabSelected?"inlet":2==t.tabSelected?"outlet":3==t.tabSelected?"bpa":"unknow")+"&month="+t.$moment(t.filterDate).format("MM")+"&year="+t.$moment(t.filterDate).format("YYYY")}},[t._v("\n          Export\n          "),1==t.tabSelected?r("span",[t._v("Data Outlet")]):t._e(),t._v(" "),2==t.tabSelected?r("span",[t._v("Data Inlet")]):t._e(),t._v(" "),3==t.tabSelected?r("span",[t._v("Data Kinerja Ipal")]):t._e(),t._v(" "),r("font-awesome-icon",{staticClass:"tw-ml-1 tw-self-center",attrs:{icon:["fas","file-excel"]}})],1),t._v(" "),r("div",{staticClass:"tw-relative tw-overflow-hidden tw-rounded tw-border tw-border-gray-400"},[r("div",{staticClass:"tw-top-1/2 tw-p-4 tw-self-center tw-inline"},[r("font-awesome-icon",{attrs:{icon:["fas","calendar"]}})],1),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.filterDate,expression:"filterDate"}],staticClass:"tw-text-xs tw-font-bold tw-py-2 tw-px-4 tw-outline-none",attrs:{type:"month"},domProps:{value:t.filterDate},on:{input:function(e){e.target.composing||(t.filterDate=e.target.value)}}})])])]),t._v(" "),r("div",{staticClass:"tw-flex-1 tw-max-h-full tw-py-4 tw-px-4 tw-bg-gray-300 tw-overflow-y-scroll",staticStyle:{"max-height":"100%"}},[1==t.tabSelected?r("div",[r("vue-good-table",{attrs:{columns:t.dataInlet.columns,rows:t.dataInlet.rows}})],1):2==t.tabSelected?r("div",[r("vue-good-table",{attrs:{columns:t.dataOutlet.columns,rows:t.dataOutlet.rows}})],1):3==t.tabSelected?r("div",[r("div",{staticClass:"tw-bg-white tw-rounded tw-mb-4"},[r("div",{staticClass:"tw-px-4 tw-py-4 tw-text-xl tw-text-blue-800 tw-font-semibold tw-border-b-2 tw-border-gray-400"},[t._v("\n            Kadar Unsur Pencemaran Sebenernya (g/m3)\n          ")]),t._v(" "),r("vue-good-table",{attrs:{columns:t.dataIpalKadar.columns,rows:t.dataIpalKadar.rows}})],1),t._v(" "),r("div",{staticClass:"tw-bg-white tw-rounded tw-mb-4"},[r("div",{staticClass:"tw-px-4 tw-py-4 tw-text-xl tw-text-blue-800 tw-font-semibold tw-border-b-2 tw-border-gray-400"},[t._v("\n            beban Pencemaran Sebenarnya /Hari (kg/hari)\n          ")]),t._v(" "),r("vue-good-table",{attrs:{columns:t.dataIpalPencemaran.columns,rows:t.dataIpalPencemaran.rows}})],1),t._v(" "),r("div",{staticClass:"tw-bg-white tw-rounded tw-mb-4"},[r("div",{staticClass:"tw-px-4 tw-py-4 tw-text-xl tw-text-blue-800 tw-font-semibold tw-border-b-2 tw-border-gray-400"},[t._v("\n            Reduksi Beban Pencemaran Sebenarnya /Hari\n          ")]),t._v(" "),r("vue-good-table",{attrs:{columns:t.dataIpalReduksi.columns,rows:t.dataIpalReduksi.rows}})],1)]):t._e()])])])}),[],!1,null,null,null);e.default=component.exports}}]);